#######################################################################################

#!/bin/bash

######################################################################################

# Author        : Apostolos Lazids
# Email         : aplazidis@gmail.com
# Description   : Terraform plan script
# Documentation : https://www.terraform.io/docs/commands/plan.html

######################################################################################

# Export Path Variable
export PATH=$PATH:/opt

######################################################################################

######################################################################################

# If statement to ensure a user has provided a Terraform folder path
if [[ -z "$1" ]]; then
echo ""
echo "You have not provided a Terraform path."
echo "SYNTAX = ./plan.sh <PATH>"
echo "EXAMPLE = ./plan.sh terraform/instance"
echo ""
exit
fi

######################################################################################

echo "######################################################################################
######################################################################################
##                                                                                  ##
##                              TERRAFORM PLAN                                      ##        
##                              CREATE *** BUCKET ***                               ##    
##                              FOR TERRAFORM STATE                                 ##
##                                                                                  ##
######################################################################################
######################################################################################"

source ./plan.sh $1

if [ ! -z $ERROR ]; then
    exit
fi


echo "######################################################################################
######################################################################################
##                                                                                  ##
##                              TERRAFORM APPLY                                     ##        
##                              CREATE *** BUCKET ***                               ##    
##                              FOR TERRAFORM STATE                                 ##
##                                                                                  ##
######################################################################################
######################################################################################"

source ./apply.sh $1
